(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],_=0,d=[];_<r.length;_++)o=r[_],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={index:0},i=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("85ec"),a=s.n(n);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e623"),s("e379"),s("5dc8"),s("37e1");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),s("nav",[s("div",{staticClass:"nav nav-pills nav-fill",attrs:{id:"nav-tab",role:"tablist"}},[s("a",{staticClass:"nav-item nav-link",class:{active:"overview"===t.active_tab},on:{click:function(e){return t.switch_tab("overview")}}},[t._v("Overview")]),s("a",{staticClass:"nav-item nav-link",class:{active:"payment"===t.active_tab},on:{click:function(e){return t.switch_tab("payment")}}},[t._v("Leaderboard")])])]),"overview"===t.active_tab?s("div",[s("overview"),t._m(1)],1):t._e(),"step-by-step"===t.active_tab?s("div",[s("step-by-step",{attrs:{max_bonus:t.max_bonus,bonus_per_question:t.bonus_per_question}}),t._m(2)],1):t._e(),"payment"===t.active_tab?s("div",[s("payment",{attrs:{max_bonus:t.max_bonus,bonus_per_question:t.bonus_per_question}}),t._m(3)],1):t._e(),t.show_tab_working?s("div",[s("div",{staticClass:"card mb-4"},[t._m(4),s("div",{staticClass:"card-body"},[s("div",{staticClass:"container"},[t._m(5),t._m(6),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header",class:{"bg-danger":!t.questions_created_satisfied||!t.questions_warmup_satisfied,"bg-warning":t.questions_created_satisfied&&t.questions_warmup_satisfied&&!t.questions_modified_satisfied,"bg-success":t.questions_created_satisfied&&t.questions_modified_satisfied&&t.questions_warmup_satisfied}},[s("strong",[t._v("Overall Progress on All Passages")])]),s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item",class:{"list-group-item-danger":!t.questions_created_satisfied,"list-group-item-success":t.questions_created_satisfied}},[t._v(" Total questions created [required]: "),s("span",{staticStyle:{float:"right"}},[t._v(t._s(t.current.question_created)+" / "+t._s(this.required_question_count))])]),s("li",{staticClass:"list-group-item",class:{"list-group-item-danger":!t.questions_warmup_satisfied,"list-group-item-success":t.questions_warmup_satisfied}},[t._v(" Pay: "),s("span",{staticStyle:{float:"right"}},[t._v("$"+t._s(t._f("currency")(t.pay_base_amount))+" + $ "+t._s(t._f("currency")(t.pay_bonus_amount))+" = $ "+t._s(t._f("currency")(t.pay_total_amount)))])])])]),s("div",{staticClass:"card-body"}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6",staticStyle:{"z-index":"0"}},[s("div",{staticClass:"card sticky-top"},[s("div",{staticClass:"card-header"},[s("h4",{staticStyle:{"text-align":"center"}},[s("button",{staticClass:"btn btn-secondary",staticStyle:{float:"left"},attrs:{type:"button","data-balloon-pos":"up","data-balloon-length":"large","aria-label":"You can move back and forth without losing your annotations. However, do not refresh this page using the refresh button of your browser."},on:{click:t.previous_passage}},[s("i",{staticClass:"fas fa-chevron-left"})]),s("span",{staticStyle:{margin:"0 auto",display:"inline-block"}},[t._v(" Passage: "+t._s(t.staging.passage_id+1)+" / "+t._s(t.number_of_passages)+" ")]),s("button",{staticClass:"btn btn-secondary",staticStyle:{float:"right"},attrs:{type:"button","data-balloon-pos":"up","data-balloon-length":"large","aria-label":"You don't need to use all passages if you can get enough good questions from some of them. If you do use more than one passage, please ask a similar number of questions per passage."},on:{click:t.next_passage}},[s("i",{staticClass:"fas fa-chevron-right"})])])]),t.staging.showing_qa_panel&&null!==t.staging.current_question.text&&void 0!==t.staging.current_question.text&&""!==t.staging.current_question.text?s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("p",[s("strong",[s("span",{staticStyle:{color:"DodgerBlue"}},[t._v("[Question] "+t._s(t.staging.current_question.text))])])])])]):t._e(),s("div",{staticClass:"card-body passage-display-box"},[t.data_loaded?s("div",{staticClass:"card-text"},[s("div",[s("div",{staticClass:"passage-text",on:{mouseleave:t.invalidate_selection,mousemove:t.turn_on_event_highlight}},t._l(t.staging.passage,(function(e,n){return s("span",{key:e.index,staticClass:"noselect",class:{highlight:t.should_highlight(n),select_highlight:t.is_in_selection_highlight(n),is_selected_answer:t.is_selected_answer_highlight(n),action_highlight:t.is_selected_action_highlight(n)},on:{mousedown:function(e){return t.mousedown_text(n)},mouseup:function(e){return t.mouseup_text(n)},mouseenter:function(e){return t.mouseenter_text(n)},dblclick:function(e){return t.double_clicked_text(n)}}},[t._v(t._s(e))])})),0),t.data_loaded?t._e():s("div",{staticClass:"spinner-border",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"})])])]):t._e()]),s("div",{staticClass:"card"},[s("br"),s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col text-center"},[s("button",{staticClass:"btn btn-primary",class:{"btn-dark":!t.should_submit_enable,"btn-warning":t.should_submit_enable&&!t.questions_modified_satisfied,"btn-success":t.should_submit_enable},attrs:{id:"ready_submit",type:"button",disabled:!t.should_submit_enable},on:{click:t.check_before_submit}},[t._v(" "+t._s(t.submit_button_text)+" "),s("span",{staticClass:"button-question-tooltip",attrs:{"data-balloon-pos":"down","data-balloon-length":"large","aria-label":"When this button is yellow, you can still submit, but it's not suggested if you do this very often."}},[t._v(" ? ")])])])]),t.has_submission_error?s("div",{staticClass:"alert alert-danger fade show",attrs:{role:"alert"}},[s("strong",[t._v(t._s(t.submission_error_msg))])]):t._e(),s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col text-center"},[s("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button"},on:{click:t.focus_feedback}},[t._v(" Give Us Feedback "),s("span",{staticClass:"button-question-tooltip",attrs:{"data-balloon-pos":"down","data-balloon-length":"large","aria-label":"Type in the box below."}},[t._v(" ? ")])])])]),s("div",{staticClass:"row justify-content-center"},[s("form",{class:{hidden:t.submission_not_ready},attrs:{name:"mturk_form",method:"post",id:"mturk-external-submit-form",action:t.mturk_params.turkSubmitTo}},[s("input",{attrs:{type:"hidden",name:"assignmentId",id:"assignmentId"},domProps:{value:t.mturk_params.assignmentId}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.generated_answers,expression:"generated_answers"}],attrs:{id:"generated_answers",name:"generated_answers",type:"hidden"},domProps:{value:t.generated_answers},on:{input:function(e){e.target.composing||(t.generated_answers=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.generated_answers_event,expression:"generated_answers_event"}],attrs:{id:"generated_answers_event",name:"generated_answers_event",type:"hidden"},domProps:{value:t.generated_answers_event},on:{input:function(e){e.target.composing||(t.generated_answers_event=e.target.value)}}})])])])])]),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"card mb-2"},[t._m(7),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h6",[t._v(" Double-Clicking or dragging on an Event Action to Start")]),this.staging.showing_qa_panel?t._e():s("div",[s("small",[t._v(' We provide some highlighted event action examples, but you can choose other event actions if they help. We want significant events that satisfy event arguments. Click on "Overview" above if you forget.')]),s("div",{staticClass:"input-group mb-3"},[s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Event action not selected","aria-label":"Recipient's username","aria-describedby":"basic-addon2",disabled:""},domProps:{value:t.display_selected_text}})]),t.has_event_error?s("div",{staticClass:"alert alert-danger fade show",attrs:{role:"alert"}},[s("strong",[t._v(t._s(t.event_selection_error_message))])]):t._e(),s("div",{staticClass:"input-group mb-3"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.add_action}},[t._v("Select Action "),s("span",{staticClass:"button-question-tooltip",attrs:{"data-balloon-pos":"down","data-balloon-length":"large","aria-label":"Click to highlight your selected answer in text."}},[t._v(" ? ")])])])])])]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col"},[t._l(t.sorted_event_actions,(function(e,n){return s("action-card",{key:n,attrs:{event:e,is_editing:t.is_editing_action(e),is_selecting:t.is_selecting_event(e)},on:{edit:function(s){return t.edit_action(e)},delete:function(s){return t.delete_action(e)}}})})),s("br"),s("div",{staticClass:"input-group mb-3"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:0==this.current.action_created},on:{click:t.switch_stage}},[t._v(" "+t._s(this.finish_event_selection_text)+" "),s("span",{staticClass:"button-question-tooltip",attrs:{"data-balloon-pos":"down","data-balloon-length":"large","aria-label":"Click to finish event selection."}},[t._v(" ? ")])])])],2)])])]),s("br"),s("div",{staticClass:"card mb-2"},[t._m(8),s("div",{staticClass:"card-body"},[t._m(9),t.has_qa_error?s("div",{staticClass:"alert alert-danger fade show",attrs:{role:"alert"}},[s("strong",[t._v(t._s(t.qa_error_message))])]):t._e(),t.staging.showing_qa_panel?s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.staging.current_question.text,expression:"staging.current_question.text"}],staticClass:"form-control",attrs:{id:"question-input",name:"input-question",placeholder:"Write an event relation question here!",disabled:t.staging.current_question.is_default_question},domProps:{value:t.staging.current_question.text},on:{input:[function(e){e.target.composing||t.$set(t.staging.current_question,"text",e.target.value)},t.on_question_text_change]}}),s("div",{staticClass:"input-group mb3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.staging.current_question.type,expression:"staging.current_question.type"}],staticClass:"form-control",attrs:{name:"question-type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staging.current_question,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v(" Select a Question Type ")]),s("option",{attrs:{value:"Counterfactual Conditional"}},[t._v(" Counterfactual Conditional")]),s("option",{attrs:{value:"Sub-event"}},[t._v(" Sub-event ")]),s("option",{attrs:{value:"Coreference"}},[t._v(" Coreference ")])])]),"Sub-event"===t.staging.current_question.type?s("div",{staticClass:"input-group mb3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.staging.current_question.include_event,expression:"staging.current_question.include_event"}],staticClass:"form-control",attrs:{name:"subevent-question"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.staging.current_question,"include_event",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v(" Question contains a complex and concrete event? ")]),s("option",{attrs:{value:"yes"}},[t._v(" yes ")]),s("option",{attrs:{value:"no"}},[t._v(" no ")])])]):t._e(),s("br"),t._m(10),s("div",{staticClass:"input-group mb-3"},[s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Answer not selected","aria-label":"Recipient's username","aria-describedby":"basic-addon2",disabled:""},domProps:{value:t.display_selected_text}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.is_selection_empty},on:{click:t.add_answer}},[t._v(" Add Answer "),s("span",{staticClass:"button-question-tooltip",attrs:{"data-balloon-pos":"down","data-balloon-length":"large","aria-label":"Click to highlight your selected answer in text."}},[t._v(" ? ")])])]),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-balloon-pos":"up","aria-label":"Clear selection"},on:{click:function(e){return t.clear_selection(!1)}}},[s("i",{staticClass:"fas fa-times"})])])]),s("button",{staticClass:"btn btn-primary mt-4",attrs:{type:"button"},on:{click:t.add_or_save_question}},[s("i",{staticClass:"fas fa-save"}),t._v(" "+t._s(t.save_question_button_text)+" "),s("span",{staticClass:"button-question-tooltip",attrs:{"data-balloon-pos":"right","data-balloon-length":"large","aria-label":"Click here to add your input in the above two boxes (i.e., question and answers). We will validate your answers manually. We reserve the right to reject hits from spammers."}},[t._v(" ? ")])]),t._l(t.sorted_staging_answers,(function(e,n){return s("event-card",{key:n,attrs:{value:t.event_text(e)},on:{delete:function(s){return t.delete_answer(e)}}})}))],2)]):t._e(),t._l(t.sorted_questions,(function(e,n){return s("question-card",{key:n,attrs:{question:e,answer_text:t.get_all_answer_surface_form(e),is_editing:t.is_editing(e),show_qa:t.is_showing_qa_panel(e)},on:{delete:function(s){return t.delete_question(e)},edit:function(s){return t.edit_question(e)},derive:function(s){return t.derive_question(e)},pin:function(s){return t.pin_to_top(e)},up:function(s){return t.move_up(e)},down:function(s){return t.move_down(e)}}})}))],2)])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{"z-index":"-1"}},[s("div",{staticClass:"card mb-4"},[t._m(11),s("div",{staticClass:"card-body"},[s("div",{attrs:{id:"comment"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.feedback,expression:"feedback"}],staticClass:"form-control",attrs:{id:"feedback-form",rows:"15",placeholder:"Please leave your feedback here."},domProps:{value:t.feedback},on:{input:function(e){e.target.composing||(t.feedback=e.target.value)}}})])])])])])]):t._e()])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col"},[s("h2",{staticClass:"text-center"},[t._v("ESTER: A Machine Reading Comprehension Dataset for")]),s("h2",{staticClass:"text-center"},[t._v("Event Semantic Relation Reasoning")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"}),s("div",{staticClass:"col-4"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"}),s("div",{staticClass:"col-4"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"}),s("div",{staticClass:"col-4"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header"},[s("h2",[t._v("Your working area")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text"},[s("span",{staticStyle:{color:"Tomato","font-family":"serif"}},[t._v("[WARNING] ")]),s("span",{staticStyle:{"font-family":"serif"}},[s("strong",[t._v("Refreshing this page will randomly reload *new* passages and you will also *lose* all your answers, but switching tabs or using the passage navigation buttons won't delete anything.")])])]),s("div",{staticClass:"card-text"},[s("span",{staticStyle:{color:"DodgerBlue","font-family":"serif"}},[t._v("[TIP 1] ")]),s("span",{staticStyle:{"font-family":"serif"}},[s("strong",[t._v("We put reminders as tooltips for many of the buttons below. Move your mouse above the question marks beside these buttons to see (if a pop-up instruction doesn't disappear, just click on any empty space).")])])]),s("div",{staticClass:"card-text"},[s("span",{staticStyle:{color:"DodgerBlue","font-family":"serif"}},[t._v("[TIP 2] ")]),s("span",{staticStyle:{"font-family":"serif"}},[s("strong",[t._v(" You can always click on the "),s("mark",[t._v('"Overview"')]),t._v(" and the "),s("mark",[t._v('"Step-by-step Instructions"')]),t._v(" tabs above to remind yourself how to judge the validity of a significant event, a question, or an answer. Again, you won't lose your annotations by doing so.")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("⚠ "),s("span",{staticStyle:{color:"red"}},[s("strong",[t._v("Common Mistakes")])]),t._v("️")])]),s("div",{staticClass:"card-body"},[t._v(" Please avoid making the following mistakes. "),s("br"),s("ol",[s("li",[s("span",{staticStyle:{color:"red"}},[s("strong",[t._v(" [Coreference] Don't ask questions about event arguments. ")])]),t._v('Remember that we define event arguments as an event action\'s subject, object, time and locations. For [Coreference] relation, events in the question and answer must share the same arguments. However, some participants mistakenly think that event A\'s arguments form a [Coreference] relation with A. For example, "participate in planning": "participate" does not corefer to "planning" as "planning" is effectively the object of "participate;" or "hope for a change": "hope" does not corefer to "change." ')]),s("li",[s("span",{staticStyle:{color:"red"}},[s("strong",[t._v(" [Sub-event] Questions do not include any complex and concrete event. ")])]),s("br")]),t._v(" Sub-event questions "),s("strong",[t._v("must have")]),t._v(" a complex event that contains a group of sub-events. The complex event itself "),s("strong",[t._v("must be concrete")]),t._v(' even if it\'s imaginary. Words such as "happen", "happened", "action", "incident", etc. are too broad and hence, are not concrete action words. '),s("li",[s("span",{staticStyle:{color:"red"}},[s("strong",[t._v(" Answers are not complete.")])]),t._v(" There could be multiple valid answers in the passage. Please select all answers that apply to your questions. Pay special attention to answers that locate far away from the core events in your questions. ")])]),s("br")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header"},[s("h4",[s("span",{staticStyle:{color:"blue"}},[t._v(" Event Action Selection ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header"},[s("h4",[s("span",{staticStyle:{color:"blue"}},[t._v(" Event Relation QA ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h6",[t._v('*All* questions and answers must include event actions. Click on "Overview" tab above if you forget relation question types.')])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("small",[t._v(" To select answers, drag your mouse over the text span. Be careful when you are hitting the right edge of the text box. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header"},[s("h3",[t._v(" Please leave your feedback here ")])])}],o=(s("99af"),s("caad6"),s("a15b"),s("d81d"),s("4e82"),s("a9e3"),s("b680"),s("b64b"),s("d3b7"),s("07ac"),s("acd8"),s("e25e"),s("ac1f"),s("25f0"),s("8a79"),s("2532"),s("841c"),s("1276"),s("498a"),s("96cf"),s("1da1")),r=s("2ef0"),c=s.n(r),l=s("cccc"),u=s.n(l),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mt-2 question-card",class:{border:t.is_editing,"border-danger":t.is_editing,shadow:t.is_editing,"border-warning":this.question.is_default_question,"border-primary":!this.question.is_default_question}},[s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text small"},[t.is_editing?s("span",[t._v("(Editing...)")]):t._e(),s("span",{staticStyle:{color:"DodgerBlue"}},[s("strong",[t._v("[Question] "+t._s(t.question.text)+" ")])]),s("span",{staticStyle:{color:"rgb(218, 165, 32)"}},[t._v(" [Type] "+t._s(t.question.type)+" ")]),s("span",{staticStyle:{color:"red"}},[t._v("[Answer] ")]),s("span",{staticStyle:{color:"red","font-style":"italic","border-bottom":"thick solid rgb(0, 0, 255)"}},[t._v(t._s(t.answers_text_or_not_answered))])]),s("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"move up and down"}},[s("button",{staticClass:"btn btn-light btn-sm tooltip-big-text",attrs:{"data-balloon-pos":"down","pindata-balloon-length":"fit","aria-label":"Pin the question to the top"},on:{click:t.onPin}},[s("i",{staticClass:"fas fa-thumbtack"})]),s("button",{staticClass:"btn btn-light btn-sm tooltip-big-text",attrs:{"data-balloon-pos":"down","pindata-balloon-length":"fit","aria-label":"Move this question card up"},on:{click:t.onUp}},[s("i",{staticClass:"fas fa-arrow-up"})]),s("button",{staticClass:"btn btn-light btn-sm mr-2 tooltip-big-text",attrs:{"data-balloon-pos":"down","pindata-balloon-length":"fit","aria-label":"Move this question card down"},on:{click:t.onDown}},[s("i",{staticClass:"fas fa-arrow-down"})])]),t.show_answer_default_button?s("button",{staticClass:"btn btn-danger btn-sm mr-2 tooltip-big-text",on:{click:t.onEdit}},[t._v(" Answer this event question "),s("span",{staticClass:"button-question-tooltip",attrs:{"data-balloon-pos":"right","data-balloon-length":"large","aria-label":"You need to answer this question before submitting your HIT. Press here and start working on it in the boxes above. Remember to answer from the time point when the passage was written"}},[t._v(" ? ")])]):t._e(),t.show_edit_button?s("button",{staticClass:"btn btn-warning btn-sm mr-2 tooltip-big-text",attrs:{"data-toggle":"tooltip","data-balloon-pos":t.edit_button_tooltip_loc,"aria-label":t.edit_button_tooltip_text},on:{click:t.onEdit}},[s("i",{staticClass:"fas fa-edit"})]):t._e(),t.show_delete_button?s("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.onDelete}},[s("i",{staticClass:"fas fa-trash-alt"})]):t._e()])])},d=[],h={name:"QuestionCard",components:{},props:["question","answer_text","is_editing","show_qa"],mounted:function(){},computed:{answers_text_or_not_answered:function(){return this.question.is_default_question?this.question.is_answered?this.answer_text:"(Not answered yet; if there's no answer, press the red button below and save an empty answer)":this.answer_text},show_edit_button:function(){return!this.is_editing&&(!!this.show_qa&&(!this.question.is_default_question||this.question.is_default_question&&this.question.is_answered))},show_derive_button:function(){return!this.is_editing&&!this.question.is_default_question},show_answer_default_button:function(){return this.question.is_default_question&&!this.question.is_answered&&!this.is_editing},show_delete_button:function(){return!this.is_editing&&(!!this.show_qa&&!this.question.is_default_question)},edit_button_tooltip_loc:function(){return this.question.is_default_question?"right":"down"},edit_button_tooltip_text:function(){var t="This button is to edit this question and overwrite it.";return this.question.is_default_question&&(t+=" This is a default question and you cannot delete it."),t}},methods:{onDelete:function(){this.$emit("delete")},onEdit:function(){this.$emit("edit")},onDerive:function(){this.$emit("derive")},onPin:function(){this.$emit("pin")},onUp:function(){this.$emit("up")},onDown:function(){this.$emit("down")}}},v=h,g=s("2877"),p=Object(g["a"])(v,_,d,!1,null,null,null),f=p.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[t._v(" "+t._s(t.value)+" "),s("a",{staticClass:"card-link text-danger",staticStyle:{cursor:"pointer"},on:{click:t.onDelete}},[s("i",{staticClass:"fas fa-trash-alt"})])])])])},b=[],w={name:"EventCard",props:["value"],computed:{},methods:{onDelete:function(){this.$emit("delete")}}},y=w,q=Object(g["a"])(y,m,b,!1,null,null,null),k=q.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mt-2 event-card",class:{border:t.is_editing,"border-danger":t.is_editing,shadow:t.is_editing,"border-primary":!0}},[s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text small"},[t.is_editing?s("span",[t._v("(Editing...)")]):t._e(),s("span",{staticStyle:{color:"DodgerBlue","padding-right":"10px"}},[s("strong",[t._v(" [Event Action] "+t._s(t.event.text)+" ")])])]),t.show_edit_button?s("button",{staticClass:"btn btn-warning btn-sm mr-2 tooltip-big-text",attrs:{"data-toggle":"tooltip","data-balloon-pos":t.edit_button_tooltip_loc,"aria-label":t.edit_button_tooltip_text},on:{click:t.onEdit}},[s("i",{staticClass:"fas fa-edit"})]):t._e(),t.show_delete_button?s("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.onDelete}},[s("i",{staticClass:"fas fa-trash-alt"})]):t._e()])])},x=[],S={name:"EventCard",components:{},props:["event","is_editing","is_selecting"],computed:{show_edit_button:function(){return!(this.is_editing||!this.is_selecting)},show_delete_button:function(){return!(this.is_editing||!this.is_selecting)},edit_button_tooltip_text:function(){var t="This button is to edit this event action.";return t},edit_button_tooltip_loc:function(){return"right"}},mounted:function(){},methods:{onDelete:function(){this.$emit("delete")},onEdit:function(){this.$emit("edit")},onPin:function(){this.$emit("pin")},onUp:function(){this.$emit("up")},onDown:function(){this.$emit("down")}}},E=S,T=Object(g["a"])(E,C,x,!1,null,null,null),A=T.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row mb-4 mt-4"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"collapse show"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text"},[s("h3",[s("span",{staticStyle:{color:"Tomato"}},[s("strong",[t._v("ESTER Leaderboard")])])]),s("hr"),s("table",{staticClass:"paleBlueRows"},[s("thead",[s("tr",[s("th",[t._v("Rank")]),s("th",[t._v("Model")]),s("th",[t._v("F1")]),s("th",[t._v("HIT@1")]),s("th",[t._v("EM")])])]),s("tbody",[s("tr",[s("td",[t._v("1")]),s("td",[t._v("UnifiedQA-large "),s("br"),t._v(" "),s("a",{staticStyle:{color:"Tomato"},attrs:{href:"https://arxiv.org/abs/2005.00700"}},[t._v("Paper")])]),s("td",[t._v("63.3")]),s("td",[t._v("83.5")]),s("td",[t._v("22.1")])]),s("tr",[s("td",[t._v("2")]),s("td",[t._v("UnifiedQA-base "),s("br"),t._v(" "),s("a",{staticStyle:{color:"Tomato"},attrs:{href:"https://arxiv.org/abs/2005.00700"}},[t._v("Paper")])]),s("td",[t._v("59.3")]),s("td",[t._v("78.1")]),s("td",[t._v("20.6")])]),s("tr",[s("td",[t._v("3")]),s("td",[t._v("T5-base "),s("br"),t._v(" "),s("a",{staticStyle:{color:"Tomato"},attrs:{href:"https://arxiv.org/abs/1910.10683"}},[t._v("Paper")])]),s("td",[t._v("58.5")]),s("td",[t._v("76.2")]),s("td",[t._v("20.5")])]),s("tr",[s("td",[t._v("4")]),s("td",[t._v("RoBERTa-large "),s("br"),t._v(" "),s("a",{staticStyle:{color:"Tomato"},attrs:{href:"https://arxiv.org/abs/1907.11692"}},[t._v("Paper")])]),s("td",[t._v("66.1")]),s("td",[t._v("63.8")]),s("td",[t._v("15.9")])]),s("tr",[s("td",[t._v("5")]),s("td",[t._v("BART-large "),s("br"),t._v(" "),s("a",{staticStyle:{color:"Tomato"},attrs:{href:"https://arxiv.org/abs/1910.13461"}},[t._v("Paper")])]),s("td",[t._v("56.1")]),s("td",[t._v("71.5")]),s("td",[t._v("15.2")])])])]),s("hr"),s("span",{staticStyle:{color:"Tomato"}},[s("h4",[t._v(" Submit to ESTER Leaderbord ")])]),s("ul",[s("li",[t._v(" Please follow the instruction "),s("a",{attrs:{href:"https://github.com/PlusLabNLP/ESTER"}},[t._v("here")]),t._v(" to output a "),s("strong",[t._v("pred_test.json")]),t._v(" file for the test set. ")]),s("li",[t._v(" Email this file to "),s("a",{attrs:{href:"mailto:rujunhan@usc.edu"}},[t._v("rujunhan@usc.edu")]),t._v(' with the title "[ESTER Submission] - your model name" ')]),s("li",[t._v(" It would be great to include a 1-2 line description of your model, but not required. ")])]),s("hr"),s("span",{staticStyle:{color:"Tomato"}},[s("h4",[t._v(" Ranking Models ")])]),t._v(" In order to emphasize the importance of using multiple metrics to evaluate models, we use a "),s("strong",[t._v(" weighted average ")]),t._v(" of all three evaluation metrics to rank models. Please refer to our paper for detailed explanations of evaluation metrics. "),s("hr"),s("h4",[t._v(" Citation ")]),t._v(" @article{han-etal-ester-21, "),s("br"),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("author = {Rujun Han and I-Hung Hsu and Jiao Sun and Julia Baylon and")]),s("div",{staticStyle:{"margin-left":"8.3em"}},[t._v("Qiang Ning and Dan Roth and Nanyun Peng}")]),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("title = {ESTER: A Machine Reading Comprehension Dataset for Event Semantic Relation Reasoning},")]),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("journal = {arXiv preprint},")]),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("volume = {arXiv:2104.08350},")]),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("year = {2021}")]),t._v(" } ")])])])])])])])}],j={name:"Payment",props:{max_bonus:Number,bonus_per_question:Number},filters:{currency:function(t){return t.toFixed(2)}}},R=j,D=Object(g["a"])(R,P,I,!1,null,null,null),$=D.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row mb-4 mt-4"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"collapse show"},[s("div",{staticClass:"card-body"},[t._m(0),s("div",{staticClass:"card-text"},[s("h3",[t._v("Introduction")]),t._m(1),s("hr"),s("h3",[t._v("Event Semantic Relations")]),s("p",[t._v("We study five event semantic relations. Below, we provide their brief definitions followed by an illustrating example. Formal definitions can be found in the paper.")]),s("ol",{staticStyle:{"list-style-type":"upper-roman","font-size":"18px"}},[t._m(2),s("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"collapse","data-target":"#causal-collapse"},on:{click:t.toggle_causal}},[t._v(t._s(t.causalTitle))]),t._m(3),s("br"),s("br"),t._m(4),s("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"collapse","data-target":"#condition-collapse"},on:{click:t.toggle_condition}},[t._v(t._s(t.conditionTitle))]),t._m(5),s("br"),s("br"),t._m(6),s("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"collapse","data-target":"#counterfactual-collapse"},on:{click:t.toggle_counterfactual}},[t._v(t._s(t.counterfactualTitle))]),t._m(7),s("br"),s("br"),s("li",[t._m(8),t._v(" Sub-event relation occurs when there is a complex event that contains several sub-events as its components. "),s("br"),s("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"collapse","data-target":"#subevent-collapse"},on:{click:t.toggle_subevent}},[t._v(t._s(t.subeventTitle))]),t._m(9)]),s("br"),t._m(10),s("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"collapse","data-target":"#coreference-collapse"},on:{click:t.toggle_coreference}},[t._v(t._s(t.coreferenceTitle))]),t._m(11),s("br")]),s("hr"),s("h3",[t._v(" Key Challenges ")]),t._v(" Apart from the difficulty for machines to reason about event semantic relations, "),s("strong",[t._v("ESTER")]),t._v(" adds two challenges for MRC, "),t._m(12),s("hr"),s("h3",[t._v(" Citation ")]),t._v(" @article{han-etal-ester-21, "),s("br"),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("author = {Rujun Han and I-Hung Hsu and Jiao Sun and Julia Baylon and")]),s("div",{staticStyle:{"margin-left":"8.3em"}},[t._v("Qiang Ning and Dan Roth and Nanyun Peng}")]),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("title = {ESTER: A Machine Reading Comprehension Dataset for Event Semantic Relation Reasoning},")]),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("journal = {arXiv preprint},")]),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("volume = {arXiv:2104.08350},")]),s("div",{staticStyle:{"margin-left":"4em"}},[t._v("year = {2021}")]),t._v(" } ")])])])])])])])},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-text"},[t._v(" Thanks for your interest in "),s("strong",[t._v("ESTER: A Machine Reading Comprehension Dataset for Event Semantic Relation Reasoning")]),t._v(". Our "),s("a",{attrs:{href:"https://arxiv.org/abs/2104.08350"}},[t._v("paper")]),t._v(" will appear on the proceedings of EMNLP'21 conference and the reproduction code is available "),s("a",{attrs:{href:"https://github.com/PlusLabNLP/ESTER"}},[t._v("here")]),t._v(". "),s("hr")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v(" Stories and narratives are often based on a sequence of events. Understanding how these events are semantically or logically related to each other is essential for reading comprehension. Unlike previous relation extraction datasets such as "),s("a",{attrs:{href:"https://www.cse.msu.edu/~kordjams/papers/Glavasetal.LREC2014.pdf"}},[t._v("HiEve")]),t._v(" and "),s("a",{attrs:{href:"https://aclanthology.org/W16-5706.pdf"}},[t._v("RED")]),t._v(", we formulate event semantic reasoning as a QA task. Annotators still need to identify event (triggers) in a given passage, but instead of creating (event, event, relation) triplets as samples, now they "),s("ol",[s("li",[s("span",{staticStyle:{color:"Tomato"}},[s("strong",[t._v("use natural language to query about event relations ")])])]),s("li",[s("span",{staticStyle:{color:"Tomato"}},[s("strong",[t._v("answer with complete meaning spans in the passage ")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticStyle:{"font-size":"18px",color:"Tomato"}},[s("strong",[t._v("Causal Relation:")])]),t._v(" Event A {causes / leads to / results in} event B in the passage. In other words, "),s("strong",[t._v("according to the passage")]),t._v(", if event A happens, event B will definitely happen."),s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapse",attrs:{id:"causal-collapse"}},[s("div",{staticStyle:{"margin-left":"1em"}},[s("em",[s("span",[t._v("[Passage] Defense Secretary Dick Cheney is "),s("mark",[t._v("urging")]),t._v(" Bush to "),s("mark",[t._v("order")]),t._v(" a national callup of armed forces reserves for active duty because of the "),s("mark",[t._v("drain")]),t._v(" on units "),s("mark",[t._v("sending")]),t._v(" soldiers abroad.")])]),s("br"),s("span",{staticStyle:{color:"Dodgerblue"}},[t._v("[Question] What made Dick Cheney urge Bush to order a callup of armed forces reserves?")]),s("br"),s("span",{staticStyle:{color:"DarkOrange"}},[t._v("[Answer] the drain on units sending soldiers abroad.")]),s("br"),s("span",{staticStyle:{color:"black"}},[t._v('[Explanation] In this example, it\'s clear that "the drain on units sending soldiers abroad" is the only cause of Dick Cheney’s suggestions for Bush.')])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticStyle:{"font-size":"18px",color:"Tomato"}},[s("strong",[t._v("Indicative Conditional Relation:")])]),t._v(" Event A is indicative conditional of event B if event A facilitates event B.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapse",attrs:{id:"condition-collapse"}},[s("div",{staticStyle:{"margin-left":"1em"}},[s("em",[s("span",[t._v("[Passage] Saddam's message called for an international conference to be "),s("mark",[t._v("convened")]),t._v(" to discuss an Iraqi "),s("mark",[t._v("withdrawal")]),t._v(" from Kuwait. In exchange, the buildup of U.S. forces in the region would "),s("mark",[t._v("halt")]),t._v(".")])]),s("br"),s("span",{staticStyle:{color:"DodgerBlue"}},[t._v("[Question] What could be expected to happen after Saddam convened an international conference?")]),s("br"),s("span",{staticStyle:{color:"DarkOrange"}},[t._v("[Answer] the buildup of U.S. forces in the region would halt.")]),s("br"),s("span",{staticStyle:{color:"black"}},[t._v('[Explanation] We can infer from the passage that the "international conference" will not necessarily result in the halt of "the buildup of U.S. forces", or it\'s merely a condition that could facilitate the latter event. Therefore, (convened and halt) forms an indicative conditional relation.')]),s("br")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticStyle:{"font-size":"18px",color:"Tomato"}},[s("strong",[t._v("Counterfactual Conditional Relation:")])]),t._v(" Event A may happen if Event B "),s("strong",[t._v("didn’t")]),t._v(" happen."),s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapse",attrs:{id:"counterfactual-collapse"}},[s("div",{staticStyle:{"margin-left":"1em"}},[s("em",[s("span",[t._v("[Passage] Program "),s("mark",[t._v("trading")]),t._v(" also causes the Nasdaq Composite Index to "),s("mark",[t._v("lose")]),t._v(" ground against other segments of the stock market. Because of program trading it is more difficult to "),s("mark",[t._v("trade")]),t._v(" many OTC stocks without sharp price moves, a condition known as illiquidity. ")])]),s("br"),s("span",{staticStyle:{color:"DodgerBlue"}},[t._v("[Question] What is going to happen if there is no program trading?")]),s("br"),s("span",{staticStyle:{color:"DarkOrange"}},[t._v("[Answer] trade many OTC stocks without sharp price moves. ")]),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Explanation] According to the passage, program trading happened or is happening. In the question, we assume it didn't happen or is not happening and ask what would happen. This example aligns well with our definition of Counterfactual Conditional relation. ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticStyle:{"font-size":"18px",color:"Tomato"}},[s("strong",[t._v("Sub-event Relation:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapse",attrs:{id:"subevent-collapse"}},[t._v(" For example, having dinner in a restaurant is a complex event, and its sub-events include activities such as ordering meals, eating, and paying the check. We show a full example below."),s("br"),s("div",{staticStyle:{"margin-left":"1em"}},[s("em",[s("span",[t._v("[Passage] Professor Peng is "),s("mark",[t._v("teaching")]),t._v(" CS544 this semester. She "),s("mark",[t._v("gives")]),t._v(" two lectures every week, "),s("mark",[t._v("holds")]),t._v(" office hours, and "),s("mark",[t._v("grades")]),t._v(" exams. Her "),s("mark",[t._v("effort")]),t._v(" as an instructor has been highly "),s("mark",[t._v("recognized")]),t._v(" by the school.")])]),s("br"),s("span",{staticStyle:{color:"DodgerBlue"}},[t._v("[Question] What do Professor Peng's teaching tasks include?")]),s("br"),s("span",{staticStyle:{color:"DarkOrange"}},[t._v("[Answer] gives lectures; holds office hours; grades exams.")]),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Explanation] Teaching is a complex event that includes “gives lectures”, “holds office hours” and “grades exams”. Therefore, these three three event pairs, (teaching, gives), (teaching, holds) and (teaching grades) form sub-event relations.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("span",{staticStyle:{"font-size":"18px",color:"Tomato"}},[s("strong",[t._v("Coreference Relation:")])]),t._v(" Some event actions can be considered as the same event depending on their event arguments and their context. Coreference events "),s("strong",[t._v("MUST share the same event arguments")]),t._v(", i.e. subject, object, time, and location.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapse",attrs:{id:"coreference-collapse"}},[s("div",{staticStyle:{"margin-left":"1em"}},[s("em",[s("span",[t._v("[Passage] China "),s("mark",[t._v("aims")]),t._v(" to "),s("mark",[t._v("keep")]),t._v(" the registered urban unemployment rate below 5 percent in the coming five years, with additional 45 million people being employed. China's Minister of Labor and Social Security Tian Chengping said recently that to "),s("mark",[t._v("achieve")]),t._v(" the goal, adjustments will be "),s("mark",[t._v("made")]),t._v(" to "),s("mark",[t._v("enlarge")]),t._v(" the scope of employment.")])]),s("br"),s("span",{staticStyle:{color:"DodgerBlue"}},[t._v("[Question] What is the goal that China would like to achieve?")]),s("br"),s("span",{staticStyle:{color:"DarkOrange"}},[t._v("[Answer] keep the registered urban unemployment rate below 5 percent")]),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Explanation] In this context, “"),s("mark",[t._v("keep")]),t._v(" unemployment rate below 5 percent” and “"),s("mark",[t._v("achieve")]),t._v(" the goal” refer to the same event. This is because for the two event actions words "),s("mark",[t._v("keep")]),t._v(" and "),s("mark",[t._v("achieve")]),t._v(', their subject are both China and their objects are "unemployment rate under 5 percent" and "goal" respectively. However, "unemployment rate under 5 percent" and "goal" are the same. So this pair of events share the same event arguments and are mutually replacable. ')])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("span",{staticStyle:{color:"Tomato"}},[s("strong",[t._v("The flexibility of natural language queries tests models' robustness. ")])]),t._v(' For example, in the example question for Sub-event relation above, we can modify the question to be "What do Professor Peng\'s teaching tasks include in classroom?" Then only the first answer "gives lectures" is valid. A good model can detect subtle additions of event arguments in questions and adjust answer accordingly. ')]),s("li",[s("span",{staticStyle:{color:"Tomato"}},[s("strong",[t._v("Models need to predict complete and meaningful answer spans. ")])]),t._v(" Partial answer overlaps or scatterred token predictions are penalized. ")])])}],W={name:"Overview",props:{},data:function(){return{subeventTitle:"Show Sub-event Example",showsubevent:!1,coreferenceTitle:"Show Coreference Example",showcoreference:!1,causalTitle:"Show Causal Example",showccausal:!1,conditionTitle:"Show Conditional Example",showcondition:!1,counterfactualTitle:"Show Counterfactual Example",showcounterfactual:!1}},methods:{toggle_subevent:function(){this.showsubevent?(this.subeventTitle="Show Sub-event Example",this.showsubevent=!1):(this.subeventTitle="Hide",this.showsubevent=!0)},toggle_coreference:function(){this.showcoreference?(this.coreferenceTitle="Show Coreference Example",this.showcoreference=!1):(this.coreferenceTitle="Hide",this.showcoreference=!0)},toggle_causal:function(){this.showcausal?(this.causalTitle="Show Causal Example",this.showcausal=!1):(this.causalTitle="Hide",this.showcausal=!0)},toggle_condition:function(){this.showcondition?(this.conditionTitle="Show Conditional Example",this.condition=!1):(this.conditionTitle="Hide",this.showcondition=!0)},toggle_counterfactual:function(){this.showcounterfactual?(this.counterfactualTitle="Show Counterfactual Example",this.showcounterfactual=!1):(this.counterfactualTitle="Hide",this.showcounterfactual=!0)}}},M=W,Q=Object(g["a"])(M,O,B,!1,null,null,null),N=Q.exports,Y=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row mb-4 mt-4"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"collapse show",attrs:{id:"collapseExample"}},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text"},[s("h6",[t._v("There are "),s("span",{staticStyle:{color:"red","font-size":"20px"}},[t._v("three steps")]),t._v(" in total to finish the annotation task for each passage. We provide step-by-step instruction below using Passage #1. In this HIT, you need to "),s("strong",[t._v(" write at least 3 questions in total")]),t._v(" for the three passages provided. You can see your question count in the interface.")])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"card sticky-top"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Passage #1")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text",attrs:{id:"passage-sample"}},[t._v(" London shares were "),s("mark",[t._v("depressed")]),t._v(" initially by overnight "),s("mark",[t._v("losses")]),t._v(" in New York and by the "),s("mark",[t._v("drop")]),t._v(" in sterling after Mr. Lawson's "),s("mark",[t._v("resignation")]),t._v(" . It "),s("span",{staticStyle:{"background-color":"lightblue"}},[t._v("showed")]),t._v(" some early resilience after central bank support "),s("mark",[t._v("firmed")]),t._v(" sterling, but the weight of Wall Street late in London trading, and signs of further weakness in the British pound, proved a hefty load to "),s("mark",[t._v("bear")]),t._v(" . New York stocks "),s("mark",[t._v("recovered")]),t._v(" some of their "),s("mark",[t._v("losses")]),t._v(" after the London market "),s("mark",[t._v("closed")]),t._v(" . ")])])])]),s("div",{staticClass:"col-lg-8",attrs:{id:"exampleQuestions"}},[s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Step 1: Read the passage carefully")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text"},[t._v(" Before you start your annotation, the first thing you need to do is to read the given passage (on the left column) "),s("strong",[t._v("VERY CAREFULLY")]),t._v(". In this step, you can see: "),s("ul",[s("li",[t._v("Highlighted words are examples of event "),s("b",[t._v("actions")]),t._v(", from which you can select significant events. ")]),s("li",[t._v("While some of the event action words may look the same in their surface forms, they could represent different events depending on their "),s("strong",[t._v("subject, object, time")]),t._v(", and "),s("strong",[t._v("location")]),t._v(" (we call these event arguments). You need to consider all of those event arguments and the event actions themselves when you think of an event. ")])])])])]),s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Step 2: Event Action Identification")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text"},[t._v(" In this step, you need to: "),s("ul",[s("li",[t._v("Identify event actions that are "),s("strong",[t._v("crucial for the narrative understanding")]),t._v(" in the passage. ")]),s("li",[s("span",{staticStyle:{color:"Red"}},[t._v("If you believe some event actions are significant but they are not originally highlighted, you can also select them. However, think carefully about the event definition before you do so.")])])]),s("div",[t._v("For example in Passage #1: (listed in the order of appearance)")]),s("table",{staticClass:"paleBlueRows"},[s("thead",[s("tr",[s("th",[t._v("Selected Event")])])]),s("tbody",[s("tr",[s("td",[t._v("depressed")])]),s("tr",[s("td",[t._v("losses")])]),s("tr",[s("td",[t._v("drop")])]),s("tr",[s("td",[s("span",{staticStyle:{color:"Red"}},[t._v("showed")])])]),s("tr",[s("td",[t._v("bear")])]),s("tr",[s("td",[t._v("recovered")])]),s("tr",[s("td",[t._v("losses")])])])]),s("br"),s("div",{staticClass:"card-text"},[s("span",{staticStyle:{color:"DarkGreen"}},[t._v("[Explanation] Take the event action "),s("strong",[t._v("*showed*")]),t._v(" as an example, you can identify its "),s("strong",[t._v("subject")]),t._v(' as "it" and '),s("strong",[t._v("object")]),t._v(' as "early resilience", and its '),s("strong",[t._v("time")]),t._v(' as "after central bank support firmed sterling." Although it is not a highlighted word, you can still choose it beause it\'s important in the narrative and the event arguments are either expicitly mentioned or can be inferred from the passage.')])]),s("br"),s("div",{staticClass:"card-text"},[t._v(" There are some key points that you can see in the example: "),s("ul",[s("li",[t._v("Not all the events are important to the passage and we "),s("strong",[t._v("DON'T")]),t._v(" want "),s("strong",[t._v("*unimportant*")]),t._v(" events. ")]),s("li",[t._v("Two action words with the same textual form can indicate different events. For example, there are two "),s("strong",[t._v("*losses*")]),t._v(" in the passage, which differ drastically in their event arguments. ")]),s("li",[t._v("Some cases are not clear until you try to ask a question in Step 3. If you are stuck, feel free to move to Step 3. You can always come back to Step 2 to edit your selections. ")])])])])])]),s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Step 3: Ask questions about event relations")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text"},[t._v(" In this step, you need to ask questions that belong to the "),s("b",[s("span",{staticStyle:{color:"red"}},[t._v("three")])]),t._v(' event relation types we defined (review it by clicking on the "Overview" tab above) and provide corresponding answers. '),s("strong",[t._v("Your questions don't need to cover all five types, but we encourage you to diversify your question types")]),t._v(". ")]),s("div",{staticClass:"card-text"},[t._v(" Please notice that there are four "),s("strong",[t._v("restrictions to your questions & answers")]),t._v(": "),s("ul",[s("li",[t._v("Your question should ask relations about one of your selected events in Step 2. ")]),s("li",[t._v("For sub-event relation, you can ask a question about an "),s("strong",[t._v("imaginary complex event")]),t._v(" that is not explicitly mentioned in the passage but can be easily inferred. See our example below. ")]),s("li",[t._v("Each of your "),s("strong",[t._v("answers")]),t._v(" should be "),s("strong",[t._v("a span that contains an event")]),t._v(" you selected in the passage. ")]),s("li",[t._v("You need to point out "),s("strong",[t._v("*all*")]),t._v(" events that can answer your questions. ")])]),s("span",{staticStyle:{color:"Red"}},[t._v("Due to these restrictions, you are encouraged to design questions carefully and be creative!")])]),s("br")])]),s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("⚠ Step 3: "),s("span",{staticStyle:{color:"red"}},[s("strong",[t._v("Common Mistakes")])]),t._v("️")])]),s("div",{staticClass:"card-body"},[t._v(" We list 5 common mistakes participants made during our pilot study. Please read them and try to avoid making the same mistakes in your work. You can see examples of these mistakes following the valid QAs for each passage below."),s("br"),s("ol",[s("li",[s("span",{staticStyle:{color:"red"}},[s("strong",[t._v(" [Coreference] Don't ask questions about event arguments. ")])]),t._v('Remember that we define event arguments as an event action\'s subject, object, time and locations. For [Coreference] relation, events in the question and answer must share the same arguments. However, some participants mistakenly think that event A\'s arguments form a [Coreference] relation with A. For example, "participate in planning": "participate" does not corefer to "planning" as "planning" is effectively the object of "participate;" or "hope for a change": "hope" does not corefer to "change." ')]),s("li",[s("span",{staticStyle:{color:"red"}},[s("strong",[t._v(" [Sub-event] Questions do not include any complex and concrete event. ")])]),s("br")]),t._v(" Sub-event questions "),s("strong",[t._v("must have")]),t._v(" a complex event that contains a group of sub-events. The complex event itself "),s("strong",[t._v("must be concrete")]),t._v(' even if it\'s imaginary. Words such as "happen", "happened", "action", "incident", etc. are too broad and hence, are not concrete action words. '),s("li",[s("span",{staticStyle:{color:"red"}},[s("strong",[t._v(" Questions do not include a highlighted event. ")])]),t._v(' Except for [Sub-event] question, we requ ire all other types of questions to include a highlighted event. You are allowed to use a different form of event actions in your questions. For example, in Passage #1, we highlight "drop" and "resignation," but you can use "dropped" and "resign" if that makes your question natural. However, you MUST include an event in your question. '),s("br")]),s("li",[s("span",{staticStyle:{color:"red"}},[s("strong",[t._v(" Question-answer pairs do not belong to our event relation types. ")])]),t._v(' Recall that we define five relation types, and the events in your question and answer MUST form one of these relations. A typical error is asking questions about object coreference rather than event coreference. For example, what does "the enemy" refer to? Clearly "enemy" is not an event, so please avoid asking such questions. ')]),s("li",[s("span",{staticStyle:{color:"red"}},[s("strong",[t._v(" Answers are either not complete or not concise.")])]),t._v(" We set a hard limit in the working area that your answers must be longer than 1 word and shorter than 12 words. However, please use your best judgement to select answers that are complete and concise, i.e. your answers correctly and naturally answer the question, but are as concise as possible. ")])]),s("br")])]),s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Valid QAs for Passage #1")])]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[s("b",{staticStyle:{color:"Dodgerblue"}},[t._v("[Coreference Question] What do the recovered losses of New York stocks refer to?")]),t._v(" "),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Answer] ")]),s("span",{staticStyle:{color:"black","font-style":"italic"}},[t._v("overnight losses in New York ")]),s("br"),s("span",{staticStyle:{color:"darkgreen"}},[t._v("[Explanation] ")]),s("span",{staticStyle:{color:"darkgreen","font-style":"italic"}},[t._v('We can easily infer from this passage that the two events "losses" share the same subject of "New York stocks," location "New York" and time "overnight." So these two "losses" are co-referred or the same event. ')]),s("br")])])]),s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",{staticStyle:{color:"red"}},[t._v("Common Mistakes for Passage #1")])]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[s("b",{staticStyle:{color:"Dodgerblue"}},[t._v("[Sub-event Question] What happened to London shares after Mr. Lawson's resignation?")]),t._v(" "),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Answer] ")]),s("span",{staticStyle:{color:"balck","font-style":"italic"}},[t._v("were depressed; showed some early resilience; a hefty load to bear.")]),s("br"),s("strong",[t._v("Why Invalid?")]),t._v(" "),s("b",[t._v("→")]),t._v(" "),s("span",{staticStyle:{color:"red"}},[s("strong",[t._v("Questions do not include a complex and concrete event (Common Mistakes 2 above).")])]),s("br"),s("span",{staticStyle:{color:"darkgreen"}},[t._v("[Explanation] ")]),s("span",{staticStyle:{color:"darkgreen","font-style":"italic"}},[t._v("Sub-event questions "),s("strong",[t._v("must have")]),t._v(" a complex event that contains a group of sub-events. The complex event itself "),s("strong",[t._v("must be concrete")]),t._v(' such as "fluctuate" even if it\'s imaginary. "What happened" is not a concrete event.')]),s("br")])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"card sticky-top"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Passage #2")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text",attrs:{id:"passage-sample"}},[t._v(" Four Iraqis, including a police commando, were "),s("span",{staticStyle:{"background-color":"lightpink"}},[t._v("killed")]),t._v(" and seven others "),s("span",{staticStyle:{"background-color":"lightpink"}},[t._v("wounded")]),t._v(" in two roadside bomb "),s("mark",[t._v("attacks")]),t._v(' in Baghdad on Monday, a police source said. "A roadside bomb '),s("mark",[t._v("struck")]),t._v(' a police commando patrol at about 8:30 a.m. in Saidiyah district in southern Baghdad," Ahmed Abdullah from Baghdad police told Xinhua. Another roadside bomb '),s("mark",[t._v("exploded")]),t._v(" at about 9:00 a.m. in the Camp Sarah area in southeastern Baghdad shortly after an Iraqi army convoy "),s("mark",[t._v("passed")]),t._v(" by,' Abdullah said. Insurgents frequently "),s("mark",[t._v("target")]),t._v(" the fledgling Iraqi security troops, "),s("mark",[t._v("accusing")]),t._v(" them of collaborating with the US occupation forces. ")])])])]),s("div",{staticClass:"col-lg-8",attrs:{id:"exampleQuestions"}},[s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Valid QAs for Passage #2")])]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[s("b",{staticStyle:{color:"Dodgerblue"}},[t._v("[Sub-event Question] What events are included the attacks?")]),t._v(" "),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Answer] ")]),s("span",{staticStyle:{color:"black","font-style":"italic"}},[t._v(" A roadside bomb struck a police commando patrol; Another roadside bomb exploded.")]),s("br"),s("span",{staticStyle:{color:"darkgreen"}},[t._v("[Explanation] ")]),s("span",{staticStyle:{color:"darkgreen","font-style":"italic"}},[t._v("From the passage, we can easily infer that two attacks includes one bomb struck a police commando patrol and another bomb exploded in the Camp Sarah area.")]),s("br")])])]),s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",{staticStyle:{color:"red"}},[t._v("Common Mistakes for Passage #2")])]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[s("b",{staticStyle:{color:"Dodgerblue"}},[t._v("[Question] What lead to four Iraqis got killed and seven others wounded?")]),t._v(" "),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Answer] ")]),s("span",{staticStyle:{"font-style":"italic"}},[t._v("Two roadside bomb attacks")]),s("br"),s("strong",[t._v("Why Invalid?")]),t._v(" "),s("b",[t._v("→")]),t._v(" "),s("span",{staticStyle:{color:"red"}},[s("strong",[t._v("Questions do not include a highlighted event (Common Mistakes 3 above).")])]),s("br"),s("span",{staticStyle:{color:"darkgreen"}},[t._v("[Explanation] ")]),s("span",{staticStyle:{color:"darkgreen","font-style":"italic"}},[t._v('The significant events in the question are "killed" and "wounded", but they are not highlighted in the passage (marked in pink).')]),s("br")])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"card sticky-top"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Passage #3")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text",attrs:{id:"passage-sample"}},[t._v(" 'We "),s("mark",[t._v("hope")]),t._v(" , therefore, that the Iranian regime will "),s("mark",[t._v("set")]),t._v(" aside threats and confrontation and will "),s("mark",[t._v("begin")]),t._v(" immediately to "),s("mark",[t._v("cooperate")]),t._v(" with all the requirements of the Security Council.' The spokesman's comments "),s("mark",[t._v("echoed")]),t._v(" an earlier statement by the State Department. 'We "),s("mark",[t._v("assume")]),t._v(" further "),s("mark",[t._v("reductions")]),t._v(" in Iran's already insufficient cooperation would likely "),s("mark",[t._v("lead")]),t._v(" to additional IAEA "),s("mark",[t._v("reports")]),t._v(" of additional Iranian non-compliance,' spokesman Gonzalo Gallegos said. Earlier Wednesday, Iran's parliament approved a bill obliging the government to ' "),s("mark",[t._v("revise")]),t._v(" its cooperation' with the UN nuclear watchdog in retaliation for Security Council sanctions "),s("mark",[t._v("imposed")]),t._v(" on Tehran. ")])])])]),s("div",{staticClass:"col-lg-8",attrs:{id:"exampleQuestions"}},[s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",[t._v("Valid QAs for Passage #3")])]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[s("b",{staticStyle:{color:"Dodgerblue"}},[t._v("[Coreference Question] What does Iran's revision of its cooperaion with UN watchdog refer to?")]),t._v(" "),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Answer] ")]),s("span",{staticStyle:{color:"black","font-style":"italic"}},[t._v(" further reductions in Iran's already insufficient cooperation. ")]),s("br"),s("span",{staticStyle:{color:"darkgreen"}},[t._v("[Explanation] ")]),s("span",{staticStyle:{color:"darkgreen","font-style":"italic"}},[t._v(' From the passage, we can see that Iran\'s revision of the plan basically means reduction of cooperation. Thus, "revise" and "reductions" form a [Coreference] relation. ')]),s("br")])])]),s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-header"},[s("h4",{staticStyle:{color:"red"}},[t._v("Common Mistakes for Passage #3")])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-text"},[s("p",{staticClass:"card-text"},[s("b",{staticStyle:{color:"Dodgerblue"}},[t._v("[Coreference Question] What does the spokesman hope?")]),t._v(" "),s("br"),s("span",{staticStyle:{color:"black"}},[t._v("[Answer] ")]),s("span",{staticStyle:{"font-style":"italic"}},[t._v("Iranian regime will set aside threats")]),s("br"),s("strong",[t._v("Why Invalid?")]),t._v(" "),s("b",[t._v("→")]),t._v(" "),s("span",{staticStyle:{color:"red"}},[s("strong",[t._v("Don't ask question about event arguments (Common Mistakes 1 above).")])]),s("br"),s("span",{staticStyle:{color:"darkgreen"}},[t._v("[Explanation] ")]),s("span",{staticStyle:{color:"darkgreen","font-style":"italic"}},[t._v('The answer is the content (object) of the event "hope." Therefore, they cannot form [Corefrence] relation as we explain above.')]),s("br")])])])])])])])])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h2",[t._v("It's great that you have made it here. A quick recap:")]),s("ol",[s("li",[t._v("Mark all the events that are important to the passage.")]),s("li",[t._v("Ask questions of the "),s("strong",[t._v("*designated three question types*")]),t._v(".")]),s("li",[t._v("You should provide "),s("strong",[t._v("*all*")]),t._v(" answers to the questions you created.")]),s("li",[t._v("Despite of all the details, the core is still question-answering. If you're not sure about the answer to a specific question, just ask yourself whether this QA pair sounds reasonable to you as an English speaker. ")])])])])])}],F={name:"StepByStep",props:{max_bonus:Number,bonus_per_question:Number}},H=F,U=(s("89ef"),Object(g["a"])(H,Y,L,!1,null,null,null)),z=U.exports,J=s("72bf"),G=s.n(J),V=[],X=[],K=[],Z=3,tt=3,et={name:"AnnotationInterface",components:{"question-card":f,"event-card":k,"action-card":A,payment:$,overview:N,"step-by-step":z},data:function(){return{active_tab:"overview",frozen:!0,frozen_time:3,seconds_remain:60,required_question_count:tt,number_of_passages:Z,max_bonus:5,pay_base_amount:5,bonus_per_question:.5,finish_event_selection_text:"Finish Event Selection",data_loaded:!1,annotations:{},current:{selection_state:"none",selection:{start:-1,end:-1,current:-1},selected_char_indices:{},selected_char_indices_for_answers:{},selected_char_indices_for_action:{},question_id_counter:0,action_id_counter:0,question_created:0,action_created:0,question_modified:0,default_question_count:0,default_question_answered_count:0},staging:{pinned_question_id:null,showing_qa_panel:!0,showing_qa_work_area:!1,passage_id:-1,passage:"",has_action:!1,current_action:{_position:null,action_id:null,text:"",span:""},current_question:{_position:null,question_id:null,text:"",type:"",is_default_question:!1,answers:{},include_event:""},events:{},actions:{},questions:{}},feedback:"",question_order_counter:0,action_order_counter:0,event_selection_error_message:"",has_event_error:!1,qa_error_message:"",has_qa_error:!1,submission_error_msg:"",has_submission_error:!1,submission_not_ready:!0,generated_answers:"",generated_answers_event:"",mturk_params:{assignmentId:"",hitId:"",turkSubmitTo:"",workerId:"",isPreview:!0}}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,s,n,a,i,o,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=G.a.parse(location.search),s=e.assignmentId,"ASSIGNMENT_ID_NOT_AVAILABLE"===s&&(console.log("Preview mode."),this.mturk_params.isPreview=!0),n=e.hitId,a=e.turkSubmitTo,i=e.workerId,this.mturk_params.turkSubmitTo=a+"/mturk/externalSubmit",this.mturk_params.workerId=i,this.mturk_params.hitId=n,this.mturk_params.assignmentId=s,console.log(e.numPassage),console.log(e),this.pay_base_amount="basePay"in e?parseFloat(e.basePay):0,this.required_question_count="requiredQuestion"in e?parseInt(e.requiredQuestion):5,this.number_of_passages="numPassage"in e?parseInt(e.numPassage):2,this.max_bonus="maxBonus"in e?parseFloat(e.maxBonus):0,this.bonus_per_question="bonusPerQuestion"in e?parseFloat(e.bonusPerQuestion):0,o=this,t.next=20,u.a.fetchPassagesWithRetries(1,this.number_of_passages);case 20:r=t.sent,console.log("fetch-data success!",r),this.number_of_passages=r.length,c.a.each(r,(function(t,e){var s=t.passage_id;o.annotations[e]={passage:t.passage,doc_id:t.doc_id,sent_id:t.sent_id,events:t.events,actions:{},questions:{},passage_id:s}})),this.data_loaded=!0,this.stage_new_passage(0),l=setInterval((function(){o.seconds_remain-=1,o.seconds_remain<0&&(o.frozen=!1,clearInterval(l))}),1e3);case 27:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{sorted_questions:function(){var t=this;return c.a.orderBy(this.staging.questions,(function(e){return e.question_id===t.staging.pinned_question_id?-99999:e._position}))},sorted_event_actions:function(){return c.a.orderBy(this.staging.actions,(function(t){return t._position}))},sorted_staging_events:function(){var t=c.a.sortBy(Object.values(this.staging.events),[function(t){return t.start},function(t){return t.end}]);return t},sorted_staging_answers:function(){var t=c.a.sortBy(Object.values(this.staging.current_question.answers),[function(t){return t.start},function(t){return t.end}]);return t},event_selection_button_text:function(){return this.staging.showing_qa_panel?"Edit Event Selection":"Finish Selection"},event_selection_button_tooltip_text:function(){return this.staging.showing_qa_panel?"Click to add/delete your event selections.":"Click to highlight your event selections in text and then you can ask questions on the right panel."},save_question_button_text:function(){return null!==this.staging.current_question.question_id?"Save Question & Answer(s)":"Add Question & Answer(s)"},should_submit_enable:function(){return!this.frozen&&(this.current.default_question_answered_count>=this.current.default_question_count&&this.current.question_created>=this.required_question_count)},next_passage_disabled:function(){return!1},prev_passage_disabled:function(){return!1},pay_bonus_amount:function(){var t=Math.max(0,this.bonus_per_question*(this.current.question_created-this.required_question_count));return Math.min(t,this.max_bonus)},pay_total_amount:function(){return this.pay_bonus_amount+this.pay_base_amount},display_selected_text:function(){if(this.current.selection.start>=0&&this.current.selection.end>=0){var t=this.staging.passage.substring(this.current.selection.start,this.current.selection.end+1);return t.length>20?t.substring(0,19)+" ...":t}return""},is_selection_empty:function(){return-1===this.current.selection.start||-1===this.current.selection.end},show_tab_instruction:function(){return"instruction"===this.active_tab},show_tab_working:function(){return"working"===this.active_tab},submit_button_text:function(){return this.frozen?"Submit (enables in "+this.seconds_remain+" seconds)":"Submit Response on All Passages"},suggested_modified_question_count:function(){return Math.ceil(this.required_question_count/3)},questions_created_satisfied:function(){return this.current.question_created>=this.required_question_count},questions_warmup_satisfied:function(){return this.current.default_question_answered_count>=this.current.default_question_count},questions_modified_satisfied:function(){return this.current.question_modified>=this.suggested_modified_question_count}},methods:{switch_tab:function(t){this.active_tab=t},focus_nav_tab:function(){document.getElementById("nav-tab").scrollIntoView()},hide_event_error:function(){this.has_event_error=!1},hide_qa_error:function(){this.has_qa_error=!1},hide_submission_error:function(){this.has_submission_error=!1},show_event_error:function(t){this.event_selection_error_message=t,this.has_event_error=!0},show_qa_error:function(t){this.qa_error_message=t,this.has_qa_error=!0},show_submission_error:function(t){this.submission_error_msg=t,this.has_submission_error=!0},reset_highlight_map:function(){for(var t=0;t<this.staging.passage.length;t++)n["a"].set(this.current.selected_char_indices,t,!1),n["a"].set(this.current.selected_char_indices_for_answers,t,!1),n["a"].set(this.current.selected_char_indices_for_action,t,!1)},event_text:function(t){return this.staging.passage.substring(t.start,t.end+1)},is_event_text_single_token:function(t){var e=t.start,s=t.end;return!this.staging.passage.substring(e,s+1).trim().includes(" ")},switch_stage:function(){var t=Object.keys(this.staging.actions);if(this.staging.showing_qa_panel){this.staging.showing_qa_panel=!1;for(var e=0;e<t.length;e++){var s=t[e];this.staging.actions[s].is_selecting=!0}this.do_highlight_all_event_selection(),this.finish_event_selection_text="Finish Event Selection"}else{this.staging.showing_qa_panel=!0;for(var a=0;a<t.length;a++){var i=t[a];this.staging.actions[i].is_selecting=!1}for(var o=0;o<=this.staging.passage.length;o++)n["a"].set(this.current.selected_char_indices,o,!1);this.finish_event_selection_text="Edit Event Selection"}for(var r=Object.keys(this.staging.questions),c=0;c<r.length;c++){var l=r[c];this.staging.questions[l].show_qa=this.staging.showing_qa_panel}},can_add_event:function(){var t=this.current.selection.start,e=this.current.selection.end,s=this.staging.passage.substring(t,e+1).trim();return 0===s.length?(this.show_event_error("The is event empty."),!1):this.is_event_text_single_token()?(this.hide_event_error(),!0):(this.show_event_error("The correct event should be a single word"),!1)},can_add_action:function(t){var e=t.start,s=t.end,n=this.staging.passage.substring(e,s+1).trim();return 0===n.length?(this.show_event_error("The is event empty!"),!1):1===n.length?(this.show_event_error("The correct event action should be a single word!"),!1):this.is_event_text_single_token(t)?this.is_action_duplicated(t)?(this.show_event_error("This answer is duplicated!"),!1):(this.hide_event_error(),!0):(this.show_event_error("The correct event action should be a single word!"),!1)},is_action_duplicated:function(t){if(this.staging.current_action.start==t.start&&this.staging.current_action.end==t.end)return!1;for(var e=Object.keys(this.staging.actions),s=0;s<e.length;s++)for(var n=this.staging.actions[e[s]].start,a=this.staging.actions[e[s]].end,i=n;i<=a;i++)if(i>=t.start&&i<=t.end)return!0;return!1},is_answer_duplicated:function(t){for(var e=Object.keys(this.staging.current_question.answers),s=0;s<e.length;s++)for(var n=this.staging.current_question.answers[e[s]].start,a=this.staging.current_question.answers[e[s]].end,i=n;i<=a;i++)if(i>=t.start&&i<=t.end)return!0;return!1},is_from_event_list:function(t){for(var e=0;e<this.staging.events.length;e++){var s=Number(this.staging.events[e].start),n=Number(this.staging.events[e].end);if(t.start==s&&t.end==n)return!0}return!1},trim_start_end_to_nearest_space:function(){var t=this.current.selection.start,e=this.current.selection.end;if(-1!==t&&-1!==e){for(var s=t,n=e,a=t;a<=e;a++)if(" "!==this.staging.passage.charAt(a)){s=a;break}for(var i=e;i>=t;i--)if(" "!==this.staging.passage.charAt(i)){n=i;break}this.current.selection.start=s,this.current.selection.end=n}},add_event:function(){this.trim_start_end_to_nearest_space();var t=this.current.selection.start,e=this.current.selection.end,s=t+"_"+e,a={start:t,end:e,key:s};if(!this.can_add_event(a))return!1;var i=Object.keys(this.staging.events).length;n["a"].set(this.staging.events,s,a),this.current.selection.start=-1,this.current.selection.end=-1,this.current.selection.current=-1,this.current.selection.state="none";var o=Object.keys(this.staging.events).length,r=o>i;return r&&1===o&&this.add_default_questions_to_passage(),!0},add_default_questions_to_passage:function(){var t=this.staging.passage_id,e={question_id:t+"-question-d0",is_default_question:!0,question_is_derived_from:null,is_answered:!1,answers:{},text:"What is the subject of this event?",_position:this.get_new_question_order_counter()},s={question_id:t+"-question-d1",is_default_question:!0,question_is_derived_from:null,is_answered:!1,answers:{},text:"What is the object of this event?",_position:this.get_new_question_order_counter()},a={question_id:t+"-question-d2",is_default_question:!0,question_is_derived_from:null,is_answered:!1,answers:{},text:"Where did (will) this event happen?",_position:this.get_new_question_order_counter()},i={question_id:t+"-question-d3",is_default_question:!0,question_is_derived_from:null,is_answered:!1,answers:{},text:"When did (will) this event happen?",_position:this.get_new_question_order_counter()};n["a"].set(this.staging.questions,t+"-question-d0",e),n["a"].set(this.staging.questions,t+"-question-d1",s),n["a"].set(this.staging.questions,t+"-question-d2",a),n["a"].set(this.staging.questions,t+"-question-d3",i),this.current.default_question_count+=3},delete_event:function(t){this.$delete(this.staging.events,t.key),0===Object.keys(this.staging.events).length&&this.remove_default_questions_in_passage()},remove_default_questions_in_passage:function(){var t=this.staging.passage_id;n["a"].delete(this.staging.questions,t+"-question-d0"),n["a"].delete(this.staging.questions,t+"-question-d1"),n["a"].delete(this.staging.questions,t+"-question-d2"),n["a"].delete(this.staging.questions,t+"-question-d3"),this.current.default_question_count-=3},should_highlight:function(t){return!0===this.current.selected_char_indices[t]},do_highlight_all_event_selection:function(){for(var t in this.staging.events)for(var e=this.staging.events[t],s=e.start;s<=e.end;s++)n["a"].set(this.current.selected_char_indices,s,!0)},do_highlight_all_action_selection:function(){for(var t in this.staging.actions)for(var e=this.staging.actions[t],s=e.start;s<=e.end;s++)n["a"].set(this.current.selected_char_indices_for_action,s,!0)},event_selection_button_clicked:function(){if(this.clear_selection(),this.staging.showing_qa_panel)for(var t=0;t<=this.staging.passage.length;t++)n["a"].set(this.current.selected_char_indices,t,!1);else this.do_highlight_all_event_selection();this.staging.showing_qa_panel=!this.staging.showing_qa_panel},answer_contains_event:function(){for(var t=this.current.selection.start,e=this.current.selection.end,s=Object.keys(this.staging.actions),n=0;n<s.length;n++){var a=s[n];if(t<=this.staging.actions[a].start&&this.staging.actions[a].end<=e)return!0}return!1},can_add_answer:function(t){return-1===t.start||-1===t.end?(this.show_qa_error("The answer cannot be empty!"),!1):0===this.staging.current_question.text.length?(this.show_qa_error("This question is empty"),!1):this.answer_contains_event()?this.answer_overlaps_question(t)?(this.show_qa_error("Your question and answer shouldn't contain the same event!"),!1):this.is_answer_too_long(t)?(this.show_qa_error("Your answer MUST NOT exceed 12 words. Consider making your answer consise!"),!1):this.is_answer_too_short(t)?(this.show_qa_error("Your answer must not be a single word. Consider selecting a complete meaning span by dragging mouse over the text!"),!1):this.is_answer_duplicated(t)?(this.show_qa_error("This answer overlaps with previous one!"),!1):(this.hide_qa_error(),!0):(this.show_qa_error("Your answer must contain a selected event! If you're sure of your answer, you can modify the highlighted event list by clicking the 'Edit Event Selection' button above!"),!1)},is_action_unique:function(t,e){for(var s in this.staging.actions){var n=this.staging.actions[s].start,a=this.staging.actions[s].end,i=this.staging.passage.substring(n,a+1).toLowerCase();if(t!=s&&e==i)return!1}return!0},answer_overlaps_question:function(t){for(var e in this.staging.actions){var s=this.staging.actions[e].start,n=this.staging.actions[e].end,a=this.staging.passage.substring(s,n+1).toLowerCase();if(t.start<=s&&n<=t.end&&this.is_action_unique(e,a)&&this.staging.current_question.text.toLowerCase().includes(a))return!0}return!1},is_answer_too_long:function(t){var e=t.start,s=t.end,n=this.staging.passage.substring(e,s+1).split(" ");return n.length>12},is_answer_too_short:function(t){var e=t.start,s=t.end,n=this.staging.passage.substring(e,s+1).split(" ");return 1===n.length},add_action:function(){this.trim_start_end_to_nearest_space();var t=this.current.selection.start,e=this.current.selection.end,s={start:t,end:e};if(!this.can_add_action(s))return!1;for(var a=t;a<=e;a++)n["a"].set(this.current.selected_char_indices_for_action,a,!0);var i=null===this.staging.current_action._position?this.get_new_action_order_counter():this.staging.current_action._position,o=this.staging.current_action.action_id;null==o&&(o=this.get_new_action_id()),n["a"].set(this.staging.actions,o,{action_id:o,is_answered:!0,start:t,end:e,text:this.staging.passage.substring(t,e+1),is_selecting:!0,_position:i}),i!=this.staging.current_action._position&&(this.current.action_created=this.current.action_created+1),this.reset_current_action(),this.reset_current_selection()},reset_current_selection:function(){this.current.selection.start=-1,this.current.selection.end=-1,this.current.selection.current=-1,this.current.selection.state="none"},reset_current_action:function(){this.staging.current_action.text="",this.staging.current_action._position=null,this.staging.current_action.action_id=null},add_answer:function(){this.trim_start_end_to_nearest_space();var t=this.current.selection.start,e=this.current.selection.end,s=t+"_"+e,a={start:t,end:e,key:s};if(!this.can_add_answer(a))return!1;if(this.can_add_answer(a)){var i=this.current.selection.start,o=this.current.selection.end,r=i+"_"+o,c={start:i,end:o,key:r};n["a"].set(this.staging.current_question.answers,r,c);for(var l=i;l<=o;l++)n["a"].set(this.current.selected_char_indices_for_answers,l,!0)}else console.log("Cannot add answer.");this.reset_current_selection()},delete_answer:function(t){this.$delete(this.staging.current_question.answers,t.key);for(var e=t.start;e<=t.end;e++)n["a"].set(this.current.selected_char_indices_for_answers,e,!1)},is_selected_answer_highlight:function(t){return!0===this.current.selected_char_indices_for_answers[t]},is_selected_action_highlight:function(t){return!0===this.current.selected_char_indices_for_action[t]},highlight_selected_answer:function(t,e){for(var s=t;s<=e;s++)n["a"].set(this.current.selected_char_indices_for_answers,s,!0)},question_contains_event:function(){var t=this.staging.current_question.text.toLowerCase();for(var e in this.staging.actions){var s=this.staging.actions[e];if(t.includes(s.text))return!0}return!1},is_question_suspicious:function(){var t=this.staging.current_question.text.toLowerCase();for(var e in this.staging.actions){var s=this.staging.actions[e];if(t.includes(s.text.toLowerCase()))return!1}for(var n in K){var a=K[n];if(t.includes(a))return!0}for(var i in X){var o=X[i];if(t.includes(o))return!0}for(var r in V){var c=V[r];if(t.includes(c))return!1}return!0},on_question_text_change:function(){this.is_question_suspicious()?this.show_qa_error("This question POSSIBLY doesn't include a highlighted event. You are allowed to use a different form of the selected action word (e.g. teach v.s. taught) or use an imaginary but concrete action word for [Sub-event] question. You can still add this question if you are sure."):this.hide_qa_error()},current_question_is_duplicated:function(){for(var t in this.staging.questions)if(t!==this.staging.current_question.question_id){var e=this.staging.questions[t];if(this.staging.current_question.text===e.text)return!0}return!1},is_showing_qa_panel:function(t){return t.show_qa},can_add_question:function(){return 0===this.staging.current_question.text.length?(this.show_qa_error("This question is empty"),!1):this.current_question_is_duplicated()?(this.show_qa_error("This question is the same as an existing one!"),!1):this.staging.current_question.text.endsWith("?")?"Sub-event"===this.staging.current_question.type&&"yes"!=this.staging.current_question.include_event?(this.show_qa_error(this.staging.current_question.type+" question must contain a complex and concrete event!"),!1):0==Object.keys(this.staging.current_question.answers).length?(this.show_qa_error('You need to select an answer and click "Add Answer"!'),!1):""==this.staging.current_question.type?(this.show_qa_error("You need to select a quesiton type!"),!1):(this.hide_qa_error(),!0):(this.show_qa_error('You may forget to put "?" at the end of the question.'),!1)},get_new_question_id:function(){var t=this.current.question_id_counter;return this.current.question_id_counter=this.current.question_id_counter+1,this.staging.passage_id+"-question-"+t},get_new_action_id:function(){var t=this.current.action_id_counter;return this.current.action_id_counter=this.current.action_id_counter+1,this.staging.passage_id+"-action-"+t},add_or_save_question:function(){if(this.can_add_question()){var t=this.staging.current_question.question_id,e=!1;null===t&&(t=this.get_new_question_id(),e=!0);var s=null===this.staging.current_question._position?this.get_new_question_order_counter():this.staging.current_question._position;this.staging.current_question.is_default_question&&!this.staging.current_question.is_answered&&(this.current.default_question_answered_count=this.current.default_question_answered_count+1),n["a"].set(this.staging.questions,t,{question_id:t,is_default_question:this.staging.current_question.is_default_question,is_answered:!0,show_qa:!0,answers:c.a.cloneDeep(this.staging.current_question.answers),text:this.staging.current_question.text,type:this.staging.current_question.type,include_event:this.staging.current_question.include_event,question_is_derived_from:this.staging.current_question.question_is_derived_from,_position:s}),e&&(this.current.question_created=this.current.question_created+1,null!==this.staging.current_question.question_is_derived_from&&(this.current.question_modified+=1)),this.staging.current_question.text="",this.staging.current_question.type="",this.staging.current_question.include_event="",this.staging.current_question.is_default_question=!1,this.staging.current_question._position=null,this.staging.current_question.question_id=null,this.staging.current_question.question_is_derived_from=null,this.staging.current_question.answers={},this.clear_current_answer_highlight()}else console.log("Cannot add question.")},clear_current_answer_highlight:function(){for(var t=0;t<=this.staging.passage.length;t++)n["a"].set(this.current.selected_char_indices_for_answers,t,!1)},clear_current_action_highlight:function(t){for(var e=t.start;e<=t.end;e++)n["a"].set(this.current.selected_char_indices_for_action,e,!1)},delete_question:function(t){var e=t.question_id;this.$delete(this.staging.questions,e),this.current.question_created=this.current.question_created-1},delete_action:function(t){var e=t.action_id;this.$delete(this.staging.actions,e),this.current.action_created=this.current.action_created-1;for(var s=t.start;s<=t.end;s++)n["a"].set(this.current.selected_char_indices_for_action,s,!1)},derive_question:function(t){this.clear_current_answer_highlight(),this.staging.current_question.question_id=null,this.staging.current_question.text=t.text,this.staging.current_question.is_default_question=t.is_default_question,this.staging.current_question.answers={},this.staging.current_question._position=null,this.staging.current_question.is_answered=t.is_answered,n["a"].nextTick((function(){document.getElementById("question-input").focus()}))},edit_question:function(t){this.clear_current_answer_highlight();var e=t.question_id;for(var s in this.staging.current_question.question_id=e,this.staging.current_question.text=t.text,this.staging.current_question.is_default_question=t.is_default_question,this.staging.current_question.answers=c.a.cloneDeep(t.answers),this.staging.current_question._position=t._position,this.staging.current_question.is_answered=t.is_answered,t.answers){var a=t.answers[s];this.highlight_selected_answer(a.start,a.end)}n["a"].nextTick((function(){document.getElementById("question-input").focus()}))},edit_action:function(t){this.clear_current_action_highlight(t),this.reset_current_action(),this.staging.current_action.action_id=t.action_id,this.staging.current_action.start=t.start,this.staging.current_action.end=t.end},is_selecting_event:function(t){return t.is_selecting},is_editing:function(t){return this.staging.current_question.question_id===t.question_id},is_editing_action:function(t){return this.staging.current_action.action_id===t.action_id},pin_to_top:function(t){for(var e=t._position,s=c.a.map(this.staging.questions,(function(t){return t._position})).sort().reverse(),n=s[0],a={},i=0;i<s.length;i++){var o=s[i];if(o===e){a[o]=n;break}var r=s[i+1];a[o]=r}for(var l in this.staging.questions){var u=this.staging.questions[l];u._position in a&&(u._position=a[u._position])}},move_up:function(t){var e=t._position,s=null,n=null;for(var a in this.staging.questions){var i=this.staging.questions[a],o=i._position;o>e&&(null===s||o<s)&&(s=o,n=i)}null!==s&&(t._position=s,n._position=e)},move_down:function(t){var e=t._position,s=null,n=null;for(var a in this.staging.questions){var i=this.staging.questions[a],o=i._position;o<e&&(null===s||o>s)&&(s=o,n=i)}null!==s&&(t._position=s,n._position=e)},get_all_answer_surface_form:function(t){var e=t.answers;if(0===Object.keys(e).length)return"(The answer is intentionally left empty)";var s=[];for(var n in e){var a=e[n];s.push(this.staging.passage.substring(a.start,a.end+1))}return c.a.join(s,", ")},get_event_span:function(t){return t.span},can_submit_fast_check:function(){if(this.current.question_created<this.required_question_count)return this.show_submission_error("You have created only ".concat(this.current.question_created," questions, which is less than the required ").concat(this.required_question_count,". (Default questions do not count)")),!1;if(this.current.default_question_answered_count<this.current.default_question_count){var t=this.current.default_question_count-this.current.default_question_answered_count;return this.show_submission_error("You have ".concat(t," warm-up questions unanswered, you must answer all of them.")),!1}return!0},create_submission_object:function(){var t=!0,e={},s={feedback:this.feedback,mTurkAssignmentId:this.mturk_params.assignmentId},a=0,i=0;for(var o in this.annotations){var r=this.annotations[o],c=r.passage_id,l=r.passage,u={answer:{spans:[],indices:[]},passageID:c},_=r.actions,d=r.questions;for(var h in d){var v=d[h];v.is_answered||(t=!1),v.is_default_question?v.is_answered&&a++:i++;var g={question:v.text,answer:{spans:[],indices:[]},type:v.type,passageID:c,question_id:v.question_id,isAnswered:v.is_answered,is_default_question:v.is_default_question};for(var p in v.answers){var f=v.answers[p];g.answer.indices.push("(".concat(f.start,",").concat(f.end+1,")")),g.answer.spans.push(l.substring(f.start,f.end+1))}s[h]=g}for(var m in _){var b=_[m];u.answer.indices.push("(".concat(b.start,",").concat(b.end+1,")")),u.answer.spans.push(l.substring(b.start,b.end+1))}var w=o+"-eventAction";e[w]=u}a<12&&console.log("default_question_answered_count : ",a),i<this.required_question_count&&console.log("question_count : ",i),t?(console.log("Passed check, ready to submit now."),this.generated_answers=JSON.stringify(s),this.generated_answers_event=JSON.stringify(e),this.submission_not_ready=!1,this.hide_submission_error(),n["a"].nextTick((function(){document.getElementById("mturk-external-submit-form").submit()})),console.log(this.generated_answers),console.log(this.generated_answers_event)):(console.log("Check not passed."),this.show_submission_error("You may have unanswered questions."))},check_before_submit:function(){console.log(this.annotations),console.log(this.feedback),this.can_submit_fast_check()&&this.create_submission_object()},focus_feedback:function(){document.getElementById("feedback-form").focus()},previous_passage:function(){var t=Object.keys(this.annotations).length,e=(this.staging.passage_id-1+t)%t;e!==this.staging.passage_id&&(this.save_staged_passage(),this.stage_new_passage(e))},next_passage:function(){var t=(this.staging.passage_id+1)%Object.keys(this.annotations).length;t!==this.staging.passage_id&&(this.save_staged_passage(),this.stage_new_passage(t))},stage_new_passage:function(t){this.clear_selection(),this.reset_highlight_map(),this.reset_current_action(),this.staging.passage_id=t;var e=this.annotations[t];this.staging.passage=e.passage,this.staging.questions=e.questions,this.staging.events=e.events,this.staging.showing_qa_panel=!1,this.staging.actions=e.actions,this.finish_event_selection_text="Finish Event Selection",this.current.action_created=Object.keys(this.staging.actions).length,this.do_highlight_all_action_selection()},save_staged_passage:function(){var t=this.annotations[this.staging.passage_id];t.events=this.staging.events,t.actions=this.staging.actions,t.questions=this.staging.questions},mousedown_text:function(t){this.current.selection.start=t,this.current.selection.state="selecting"},mouseup_text:function(t){this.current.selection.end=t,this.current.selection.state="none";var e=Math.min(this.current.selection.start,this.current.selection.end),s=Math.max(this.current.selection.start,this.current.selection.end);this.current.selection.start=e,this.current.selection.end=s},mouseenter_text:function(t){this.current.selection.current=t},invalidate_selection:function(){"none"!==this.current.selection.state&&this.clear_selection(!1)},turn_on_event_highlight:function(){this.staging.showing_qa_panel||this.do_highlight_all_event_selection()},highlight_actions:function(){this.do_highlight_all_event_selection()},is_in_selection_highlight:function(t){return"selecting"===this.current.selection.state?t>=Math.min(this.current.selection.current,this.current.selection.start)&&t<=Math.max(this.current.selection.current,this.current.selection.start):"none"===this.current.selection.state&&(t>=this.current.selection.start&&t<=this.current.selection.end)},all_event_question_answered:function(){for(var t=!0,e=0;e<4;e++){var s=this.staging.passage_id.toString().concat("-question-d").concat(e.toString());this.staging.questions[s].is_answered||(t=!1)}return t},double_clicked_text:function(t){function e(t){return" "===t||"."===t||","===t||"?"===t||"'"===t||'"'===t||"!"===t||";"===t||":"===t||"\n"===t||"\t"===t}for(var s=this.staging.passage.length-1,n=t;n<this.staging.passage.length;n++)if(e(this.staging.passage[n])){s=n-1;break}for(var a=0,i=t;i>0;i--)if(e(this.staging.passage[i])){a=i+1;break}this.current.selection.start=a,this.current.selection.end=s},clear_selection:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.current.selection.state="none",this.current.selection.start=-1,this.current.selection.end=-1,this.current.selection.current=-1,t&&(this.staging.current_question._position=null,this.staging.current_question.answers={},this.staging.current_question.is_default_question=!1,this.staging.current_question.question_id=null,this.staging.current_question.text="")},get_new_question_order_counter:function(){var t=this.question_order_counter;return this.question_order_counter+=1,t},get_new_action_order_counter:function(){var t=this.action_order_counter;return this.action_order_counter+=1,t}},filters:{currency:function(t){return t.toFixed(2)}}},st=et,nt=(s("034f"),Object(g["a"])(st,a,i,!1,null,null,null)),at=nt.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(at)}}).$mount("#app")},"85ec":function(t,e,s){},"89ef":function(t,e,s){"use strict";var n=s("a012"),a=s.n(n);a.a},a012:function(t,e,s){},cccc:function(t,e,s){s("4e82"),s("b64b"),s("d3b7"),s("ac1f"),s("1276"),s("96cf");var n=s("c973");function a(t,e){for(var s=[],n=0;n<e.length;n++)s.push(n);s.sort((function(){return.5-Math.random()}));var a=[];t>e.length&&(t=e.length);for(var i=0;i<t;i++){var o=s[i];a.push(e[o])}return a}function i(){var t="Europe planned for getting stricken Albania back on to its feet, firming up its support for an aid operation and early elections. In return, Albanian Premier, meeting here with top EU officials, pledged to step up dialogue with the armed rebels who have held the south of the country in their bid to oust President Sali Berisha. A key element of efforts to pull Albania back from the brink involves the dispatch of a multinational force of up to 5,000 troops to shore up security while aid is brought into the chaotic Balkan state.",e=[1];return{passage_ids:e,passage_data:t.split("\n")}}function o(){var t=i();return t}function r(t,e){return c.apply(this,arguments)}function c(){return c=n(regeneratorRuntime.mark((function t(e,s){var n,i,r,c,l,u,_;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200===e.status){t.next=3;break}return console.log("Looks like there was a problem. Status Code: "+e.status),t.abrupt("return",o());case 3:return t.next=5,e.json();case 5:for(n=t.sent,i=Object.keys(n),r=a(s,i),c=[],l=0;l<r.length;l++)u=r[l],_=n[u],_["passage_id"]=u,c.push(_);return t.abrupt("return",c);case 11:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function l(t,e){return u.apply(this,arguments)}function u(){return u=n(regeneratorRuntime.mark((function t(e,s){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n="https://eventqa.s3.us-east-2.amazonaws.com/sample_sents_min5_events_min5_tokens_min60_max200_count100.json",a=0;case 2:if(!(a<e)){t.next=18;break}return t.prev=3,t.next=6,fetch(n);case 6:return o=t.sent,t.next=9,r(o,s);case 9:return t.abrupt("return",t.sent);case 12:t.prev=12,t.t0=t["catch"](3),console.log(t.t0);case 15:a++,t.next=2;break;case 18:return t.abrupt("return",i());case 19:case"end":return t.stop()}}),t,null,[[3,12]])}))),u.apply(this,arguments)}t.exports={parsePassages:r,chooseKfromArray:a,fetchPassagesWithRetries:l}}});
//# sourceMappingURL=index.bfd57e78.js.map